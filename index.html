<!DOCTYPE html>
<html class="light scroll-smooth" lang="id">
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <title>Rumah Kita | UKMI Ar-Rahman UNIMED</title>
    
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <link href="https://fonts.googleapis.com/css2?family=Work+Sans:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap" rel="stylesheet"/>
    <link rel="icon" href="logo.png" type="image/png">

    <link href="https://unpkg.com/maplibre-gl@3.6.2/dist/maplibre-gl.css" rel="stylesheet" />
    <script src="https://unpkg.com/maplibre-gl@3.6.2/dist/maplibre-gl.js"></script>
    
    <script>
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: { "primary": "#19e66f", "primary-dark": "#14b859", "background-light": "#f6f8f7", "background-dark": "#112118", "deep-green": "#0e1b13" },
                    fontFamily: { "display": ["Work Sans", "sans-serif"] },
                    borderRadius: {"DEFAULT": "0.25rem", "lg": "0.5rem", "xl": "0.75rem", "full": "9999px"},
                },
            },
        }
    </script>
    <style>
        .geometric-pattern { background-image: radial-gradient(#19e66f22 1px, transparent 1px); background-size: 40px 40px; }
        .dark .geometric-pattern { background-image: radial-gradient(#19e66f11 1px, transparent 1px); }
        #mobile-menu { transition: max-height 0.3s ease-in-out; }
        .maplibregl-popup-content { border-radius: 8px; padding: 8px 12px; font-family: 'Work Sans', sans-serif; font-size: 12px; }
        .dark .maplibregl-popup-content { background-color: #1a2e22; color: white; border: 1px solid #334155; }
        .dark .maplibregl-popup-tip { border-top-color: #1a2e22; }

        /* --- PREMIUM CARD CSS (SOFT DARK MODE) --- */
        .card { --card-bg: #ffffff; --card-accent: #19e66f; --card-text: #0e1b13; --card-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.05); width: 100%; max-width: 380px; height: 320px; background: var(--card-bg); border-radius: 20px; position: relative; overflow: hidden; transition: all 0.5s cubic-bezier(0.16, 1, 0.3, 1); box-shadow: var(--card-shadow); border: 1px solid rgba(0, 0, 0, 0.05); font-family: 'Work Sans', sans-serif; margin: 0 auto; }
        .dark .card { --card-bg: #15251d; --card-text: #f0fdf4; border: 1px solid rgba(255, 255, 255, 0.05); box-shadow: 0 10px 20px rgba(0,0,0,0.4); }
        .card__shine { position: absolute; inset: 0; background: linear-gradient(120deg, rgba(255, 255, 255, 0) 40%, rgba(255, 255, 255, 0.5) 50%, rgba(255, 255, 255, 0) 60%); opacity: 0; transition: opacity 0.3s ease; pointer-events: none; z-index: 10; }
        .dark .card__shine { background: linear-gradient(120deg, transparent 40%, rgba(255, 255, 255, 0.08) 50%, transparent 60%); }
        .card__glow { position: absolute; inset: -10px; background: radial-gradient(circle at 50% 0%, rgba(25, 230, 111, 0.3) 0%, rgba(25, 230, 111, 0) 70%); opacity: 0; transition: opacity 0.5s ease; pointer-events: none; }
        .dark .card__glow { background: radial-gradient(circle at 50% 0%, rgba(25, 230, 111, 0.15) 0%, transparent 70%); }
        .card__content { padding: 1.25em; height: 100%; display: flex; flex-direction: column; gap: 0.75em; position: relative; z-index: 2; }
        .card__badge { position: absolute; top: 12px; right: 12px; background: var(--card-accent); color: #0e1b13; padding: 0.25em 0.75em; border-radius: 999px; font-size: 0.7em; font-weight: 700; text-transform: uppercase; transform: scale(0.8); opacity: 0; transition: all 0.4s ease 0.1s; box-shadow: 0 2px 10px rgba(25, 230, 111, 0.3); }
        .card__image { width: 100%; height: 160px; background-color: #e2e8f0; border-radius: 12px; transition: all 0.5s cubic-bezier(0.16, 1, 0.3, 1); position: relative; overflow: hidden; background-size: cover; background-position: center; }
        .dark .card__image { background-color: #0f1f15; opacity: 0.9; }
        .card__image::after { content: ""; position: absolute; inset: 0; background: linear-gradient(to top, rgba(0,0,0,0.4), transparent); opacity: 0.6; }
        .card__text { display: flex; flex-direction: column; gap: 0.25em; flex-grow: 1; }
        .card__title { color: var(--card-text); font-size: 1.1em; margin: 0; font-weight: 700; transition: all 0.3s ease; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }
        .card__description { color: var(--card-text); font-size: 0.8em; margin: 0; opacity: 0.7; transition: all 0.3s ease; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }
        .card__footer { display: flex; justify-content: space-between; align-items: center; margin-top: auto; padding-top: 10px; border-top: 1px solid rgba(0,0,0,0.05); }
        .dark .card__footer { border-top: 1px solid rgba(255,255,255,0.05); }
        .card__price { color: var(--card-text); font-weight: 600; font-size: 0.85em; opacity: 0.8; transition: all 0.3s ease; display: flex; align-items: center; gap: 4px; }
        .card__button { width: 32px; height: 32px; background: var(--card-accent); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: #0e1b13; cursor: pointer; transition: all 0.3s ease; transform: scale(0.9); }
        .card:hover { transform: translateY(-5px); border-color: rgba(25, 230, 111, 0.4); }
        .dark .card:hover { border-color: rgba(25, 230, 111, 0.2); box-shadow: 0 15px 30px rgba(0,0,0,0.5); }
        .card:hover .card__shine { opacity: 1; animation: shine 3s infinite; }
        .card:hover .card__glow { opacity: 1; }
        .card:hover .card__badge { transform: scale(1); opacity: 1; z-index: 5; }
        .card:hover .card__image { transform: translateY(-5px) scale(1.03); }
        .card:hover .card__title { color: var(--card-accent); }
        .card:hover .card__description { opacity: 1; }
        .card:hover .card__button { transform: scale(1.1); box-shadow: 0 0 0 4px rgba(25, 230, 111, 0.2); }
        @keyframes shine { 0% { background-position: -100% 0; } 100% { background-position: 200% 0; } }
    </style>
</head>

<body class="bg-background-light dark:bg-background-dark font-display text-deep-green dark:text-gray-100 antialiased transition-colors duration-300">

<header class="sticky top-0 z-50 w-full bg-white/90 dark:bg-background-dark/90 backdrop-blur-md border-b border-gray-200 dark:border-gray-800 transition-colors duration-300">
    <div class="max-w-[1440px] mx-auto px-6 lg:px-20 h-20 flex items-center justify-between">
        <a href="#" class="flex items-center gap-3 hover:opacity-80 transition-opacity">
            <img src="logo.png" alt="Logo UKMI" class="h-10 w-auto object-contain">
            <div class="flex flex-col"><h2 class="text-xl font-bold tracking-tight leading-none">Rumah Kita</h2><span class="text-[10px] font-semibold tracking-wider text-gray-500 uppercase">UKMI Ar-Rahman</span></div>
        </a>
        <nav class="hidden md:flex items-center gap-8">
            <a class="text-sm font-semibold hover:text-primary transition-colors" href="#">Beranda</a>
            <a class="text-sm font-medium hover:text-primary transition-colors" href="about.html">Tentang</a>
            <a class="text-sm font-medium hover:text-primary transition-colors" href="management.html">Struktur</a>
            <a class="text-sm font-medium hover:text-primary transition-colors" href="activities.html">Program</a>
            <a class="text-sm font-medium hover:text-primary transition-colors" href="articles.html">Artikel</a>
        </nav>
        <div class="flex items-center gap-4">
            <button onclick="toggleTheme()" class="p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800"><span id="theme-icon" class="material-symbols-outlined text-xl">dark_mode</span></button>
            <button onclick="document.getElementById('newsletter').scrollIntoView()" class="hidden sm:flex bg-primary text-deep-green px-6 py-2.5 rounded-lg font-bold text-sm hover:bg-primary-dark shadow-md">Gabung Sekarang</button>
            <button onclick="toggleMobileMenu()" class="md:hidden p-2 text-deep-green dark:text-white"><span class="material-symbols-outlined text-2xl">menu</span></button>
        </div>
    </div>
    <div id="mobile-menu" class="hidden md:hidden bg-white dark:bg-background-dark border-b border-gray-200 dark:border-gray-800">
        <nav class="flex flex-col p-6 gap-4 text-center">
            <a class="text-lg font-medium hover:text-primary" href="#">Beranda</a>
            <a class="text-lg font-medium hover:text-primary" href="about.html">Tentang Kami</a>
            <a class="text-lg font-medium hover:text-primary" href="activities.html">Kegiatan</a>
            <a class="text-lg font-medium hover:text-primary" href="articles.html">Artikel</a>
            <hr class="border-gray-200 dark:border-gray-700 my-2">
            <button onclick="document.getElementById('newsletter').scrollIntoView(); toggleMobileMenu()" class="bg-primary text-deep-green px-6 py-3 rounded-lg font-bold w-full">Gabung UKMI</button>
        </nav>
    </div>
</header>

<main>
    <section class="relative overflow-hidden geometric-pattern py-20 lg:py-32">
        
        <div class="absolute inset-0 z-0 lg:hidden">
            <div id="hero-bg-mobile" class="absolute inset-0 bg-cover bg-center transition-all duration-700" style="background-image: url('https://images.unsplash.com/photo-1523580494863-6f3031224c94?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80');"></div>
            <div class="absolute inset-0 bg-gradient-to-t from-background-dark/95 via-background-dark/70 to-background-dark/30"></div>
        </div>

        <div class="max-w-[1440px] mx-auto px-6 lg:px-20 relative z-10">
            <div class="grid lg:grid-cols-2 gap-12 items-center">
                <div class="flex flex-col gap-8 max-w-2xl animate-fade-in-up text-center lg:text-left">
                    <div class="inline-flex items-center justify-center lg:justify-start gap-2 bg-primary/10 text-primary px-3 py-1 rounded-full w-fit mx-auto lg:mx-0 border border-primary/20">
                        <span class="material-symbols-outlined text-sm">school</span>
                        <span class="text-xs font-bold uppercase tracking-widest">LDK UKMI Ar-Rahman UNIMED</span>
                    </div>
                    
                    <h1 id="hero-title" class="text-5xl lg:text-7xl font-black leading-[1.1] tracking-tight text-white lg:text-deep-green lg:dark:text-white drop-shadow-md lg:drop-shadow-none">
                        Membangun Generasi <span class="text-primary">Rabbani</span> di Kampus Hijau
                    </h1>
                    
                    <p id="hero-subtitle" class="text-lg lg:text-xl text-gray-200 lg:text-gray-600 lg:dark:text-gray-400 leading-relaxed font-light lg:font-normal">
                        Rumah Kita adalah wadah bagi mahasiswa Muslim UNIMED untuk bertumbuh dalam iman, unggul dalam akademik, dan berkontribusi bagi masyarakat.
                    </p>
                    
                    <div class="flex flex-wrap justify-center lg:justify-start gap-4 pt-4">
                        <button onclick="document.getElementById('newsletter').scrollIntoView()" class="bg-primary text-deep-green px-8 py-4 rounded-xl font-bold text-lg shadow-lg hover:-translate-y-1 hover:bg-primary-dark transition-all">Ayo Gabung!</button>
                        <!-- <a href="https://docs.google.com/spreadsheets/d/1xJ3y4ikHN_ZDXtvKcPk01uo7jNbRKO-stXAmBNl2wEw/edit?usp=sharing" target="_blank" class="bg-white/10 lg:bg-white lg:dark:bg-gray-800 border border-white/20 lg:border-gray-200 lg:dark:border-gray-700 px-8 py-4 rounded-xl font-bold text-lg hover:bg-white/20 lg:hover:bg-gray-50 lg:dark:hover:bg-gray-700 transition-all text-white lg:text-deep-green lg:dark:text-white flex items-center justify-center gap-2 backdrop-blur-sm lg:backdrop-blur-none">
                            <span class="material-symbols-outlined">calendar_month</span> Lihat Agenda
                        </a> -->
                    </div>
                </div>
                
                <div class="relative hidden lg:block">
                    <div class="w-full aspect-square rounded-3xl overflow-hidden shadow-2xl rotate-3 bg-primary/5 border border-gray-100 dark:border-gray-800">
                        <div class="absolute inset-0 bg-gradient-to-tr from-primary/20 to-transparent z-10 pointer-events-none"></div>
                        <img id="hero-img" class="w-full h-full object-cover" alt="Hero UKMI" src="https://via.placeholder.com/600x600?text=Memuat+Gambar..."/>
                    </div>
                    <div class="absolute -bottom-6 -left-6 bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-xl border border-gray-100 dark:border-gray-700 flex gap-4 items-center z-20">
                        <div class="bg-primary/20 p-3 rounded-xl text-primary"><span class="material-symbols-outlined text-3xl">handshake</span></div>
                        <div>
                            <p class="text-2xl font-black text-deep-green dark:text-white">Ahlan Wa Sahlan</p>
                            <p class="text-sm text-gray-500 font-medium">Selamat Datang di Rumah Kita</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="mission" class="py-24 bg-white dark:bg-background-dark/50 border-y border-gray-100 dark:border-gray-800/50">
        <div class="max-w-[1440px] mx-auto px-6 lg:px-20">
            <div class="flex flex-col gap-16">
                <div class="max-w-3xl">
                    <h2 class="text-deep-green dark:text-white text-4xl font-bold mb-6">Visi</h2>
                    <p class="text-gray-600 dark:text-gray-400 text-xl leading-relaxed">Bergerak dari terbinanya suatu kerjasama dalam mewujudkan Kampus yang berkarakter yang religius, dengan UKMI Ar-Rahman UNIMED sebagai Inisiator penggerak Dakwah menuju masyarakat Madani.</p>
                </div>
                <div class="grid md:grid-cols-3 gap-8">
                    <div class="group p-8 rounded-2xl border border-gray-100 dark:border-gray-800 bg-background-light dark:bg-gray-800/40 hover:border-primary/50 hover:shadow-xl transition-all duration-300">
                        <div class="text-primary mb-6 group-hover:scale-110 transition-transform origin-left"><span class="material-symbols-outlined text-4xl">handshake</span></div>
                        <h3 class="text-xl font-bold mb-3 text-deep-green dark:text-white">Ukhuwah Islamiyah</h3>
                        <p class="text-gray-600 dark:text-gray-400">Menemukan rumah kedua bersama saudara seiman dalam lingkungan yang saling mendukung.</p>
                    </div>
                    <div class="group p-8 rounded-2xl border border-gray-100 dark:border-gray-800 bg-background-light dark:bg-gray-800/40 hover:border-primary/50 hover:shadow-xl transition-all duration-300">
                        <div class="text-primary mb-6 group-hover:scale-110 transition-transform origin-left"><span class="material-symbols-outlined text-4xl">mosque</span></div>
                        <h3 class="text-xl font-bold mb-3 text-deep-green dark:text-white">Pembinaan Ruhiyah</h3>
                        <p class="text-gray-600 dark:text-gray-400">Memperdalam iman melalui halaqah rutin, tahsin Al-Qur'an, dan kajian keislaman.</p>
                    </div>
                    <div class="group p-8 rounded-2xl border border-gray-100 dark:border-gray-800 bg-background-light dark:bg-gray-800/40 hover:border-primary/50 hover:shadow-xl transition-all duration-300">
                        <div class="text-primary mb-6 group-hover:scale-110 transition-transform origin-left"><span class="material-symbols-outlined text-4xl">school</span></div>
                        <h3 class="text-xl font-bold mb-3 text-deep-green dark:text-white">Prestasi Akademik</h3>
                        <p class="text-gray-600 dark:text-gray-400">Mendorong kesuksesan studi melalui kelompok belajar dan mentoring.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="activities" class="py-24 bg-background-light dark:bg-background-dark">
        <div class="max-w-[1440px] mx-auto px-6 lg:px-20">
            <div class="flex justify-between items-end mb-12">
                <div><h2 class="text-3xl lg:text-4xl font-black text-deep-green dark:text-white mb-2">Program Kerja</h2><p class="text-gray-500">Kegiatan yang dilaksanakan oleh UKMI Ar-Rahman</p></div>
                <a class="text-primary font-bold flex items-center gap-1 hover:underline decoration-2" href="activities.html">Lihat Semua <span class="material-symbols-outlined text-sm">arrow_forward</span></a>
            </div>
            <div id="featured-activities-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 justify-items-center">
                <div class="col-span-3 flex justify-center py-10"><span class="material-symbols-outlined animate-spin text-primary text-4xl">progress_activity</span></div>
            </div>
        </div>
    </section>

    <section id="blog" class="py-24 bg-white dark:bg-background-dark/80">
        <div class="max-w-[1440px] mx-auto px-6 lg:px-20">
            <div class="text-center mb-16">
                <h2 class="text-4xl font-black text-deep-green dark:text-white mb-4">Wawasan Terkini</h2>
                <p class="text-gray-500 max-w-2xl mx-auto">Tulisan, berita, dan inspirasi terbaru.</p>
            </div>
            <div id="latest-articles-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 justify-items-center">
                <div class="col-span-3 flex justify-center py-10"><span class="material-symbols-outlined animate-spin text-primary text-4xl">progress_activity</span></div>
            </div>
        </div>
    </section>

</main>

<footer class="bg-white dark:bg-background-dark py-20 border-t border-gray-100 dark:border-gray-800 transition-colors duration-300">
    <div class="max-w-[1440px] mx-auto px-6 lg:px-20">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-12">
            <div class="col-span-1 md:col-span-1 flex flex-col gap-6">
                <div class="flex items-center gap-3">
                    <img src="logo.png" alt="Logo UKMI" class="h-10 w-auto object-contain">
                    <div class="flex flex-col"><h2 class="text-lg font-bold tracking-tight text-deep-green dark:text-white leading-none">Rumah Kita</h2><span class="text-[10px] font-semibold text-gray-500 uppercase">UKMI Ar-Rahman</span></div>
                </div>
                <p class="text-gray-500 text-sm leading-relaxed">Masjid Baiturrahman, Kampus UNIMED.</p>
                <div class="w-full h-40 rounded-xl overflow-hidden shadow-sm border border-gray-200 dark:border-gray-700 relative group">
                    <div id="map" class="w-full h-full"></div>
                    <a href="https://www.google.com/maps/dir//3.609861,98.718778" target="_blank" class="absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors flex items-center justify-center opacity-0 group-hover:opacity-100">
                        <span class="bg-white text-xs font-bold px-3 py-1 rounded shadow text-deep-green flex gap-1 items-center"><span class="material-symbols-outlined text-xs">map</span> Buka Peta Besar</span>
                    </a>
                </div>
                <div class="flex gap-4">
                    <a class="w-10 h-10 rounded-full border border-gray-200 dark:border-gray-700 flex items-center justify-center text-gray-500 hover:bg-primary/10 hover:text-primary transition-all" href="#"><span class="material-symbols-outlined text-lg">language</span></a>
                    <a class="w-10 h-10 rounded-full border border-gray-200 dark:border-gray-700 flex items-center justify-center hover:bg-gray-50 transition-all" href="https://www.instagram.com/ukmi_arrahmanunimed/" target="_blank"><img src="https://upload.wikimedia.org/wikipedia/commons/e/e7/Instagram_logo_2016.svg" alt="Instagram" class="w-5 h-5"></a>
                    <a class="w-10 h-10 rounded-full border border-gray-200 dark:border-gray-700 flex items-center justify-center hover:bg-gray-50 transition-all" href="https://www.tiktok.com/@lentera.media?is_from_webapp=1&sender_device=pc" target="_blank"><img src="https://upload.wikimedia.org/wikipedia/en/a/a9/TikTok_logo.svg" alt="TikTok" class="w-5 h-5"></a>
                </div>
            </div>
            <div>
                <h4 class="font-bold text-deep-green dark:text-white mb-6">Tautan Cepat</h4>
                <ul class="flex flex-col gap-4 text-sm text-gray-500">
                    <li><a class="hover:text-primary transition-colors" href="about.html">Tentang Kami</a></li>
                    <li><a class="hover:text-primary transition-colors" href="management.html">Struktur</a></li>
                    <li><a class="hover:text-primary transition-colors" href="">Open Recruitment</a></li>
                </ul>
            </div>
            <div class="md:col-span-2">
                <h4 class="font-bold text-deep-green dark:text-white mb-6">Hubungi Kami</h4>
                <ul class="flex flex-col gap-4 text-sm text-gray-500">
                    <li class="flex items-center gap-3"><span class="material-symbols-outlined text-sm text-primary">location_on</span>Masjid Baiturrahman, Kampus UNIMED</li>
                    <li class="flex items-center gap-3"><span class="material-symbols-outlined text-sm text-primary">mail</span>lenteramediart@gmail.com</li>
                    <li class="flex items-center gap-3"><span class="material-symbols-outlined text-sm text-primary">phone</span>0895-6289-25599</li>
                    <li class="flex items-center gap-3"><span class="material-symbols-outlined text-sm text-primary">phone</span>0831-7498-9160</li>
                </ul>
            </div>
        </div>
        <div class="mt-20 pt-8 border-t border-gray-100 dark:border-gray-800 flex flex-col md:flex-row justify-between items-center gap-4 text-xs text-gray-400">
            <p>Â© 2025 UKMI Ar-Rahman UNIMED. All rights reserved.</p>
            <p>#CerdasdanSoleh</p>
            <div class="flex gap-6">
                <a class="hover:underline hover:text-primary" href="#">Kebijakan Privasi</a>
                <a class="hover:underline hover:text-primary font-bold flex items-center gap-1" href="admin.html"><span class="material-symbols-outlined text-sm">lock</span> Login CMS</a>
            </div>
        </div>
    </div>
</footer>

<script>
    // --- MAPLIBRE (FOOTER) ---
    let map = null; const UKMI_COORDS = [98.718778, 3.609861]; 
    function initMap() {
        const isDark = document.documentElement.classList.contains('dark');
        const style = isDark ? 'https://basemaps.cartocdn.com/gl/dark-matter-gl-style/style.json' : 'https://basemaps.cartocdn.com/gl/positron-gl-style/style.json';
        if (!map) { map = new maplibregl.Map({ container: 'map', style: style, center: UKMI_COORDS, zoom: 15, interactive: false, attributionControl: false }); new maplibregl.Marker({ color: '#19e66f' }).setLngLat(UKMI_COORDS).addTo(map); } else { map.setStyle(style); }
    }
    function toggleTheme() {
        const html = document.documentElement; const icon = document.getElementById('theme-icon');
        if (html.classList.contains('dark')) { html.classList.remove('dark'); localStorage.setItem('theme', 'light'); icon.innerText = 'dark_mode'; } 
        else { html.classList.add('dark'); localStorage.setItem('theme', 'dark'); icon.innerText = 'light_mode'; }
        initMap();
    }
    if (localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) { document.documentElement.classList.add('dark'); document.getElementById('theme-icon').innerText = 'light_mode'; } 
    else { document.documentElement.classList.remove('dark'); document.getElementById('theme-icon').innerText = 'dark_mode'; }
    window.addEventListener('load', initMap);
    function toggleMobileMenu() { document.getElementById('mobile-menu').classList.toggle('hidden'); }
</script>

<script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
    import { getDatabase, ref, onValue, query, limitToLast } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-database.js";

    const firebaseConfig = { apiKey: "AIzaSyD99enNG4t0Ttq8OxXLYyy6kqwg3shCqM4", authDomain: "rumah-kita-31dc0.firebaseapp.com", databaseURL: "https://rumah-kita-31dc0-default-rtdb.asia-southeast1.firebasedatabase.app", projectId: "rumah-kita-31dc0", storageBucket: "rumah-kita-31dc0.firebasestorage.app", messagingSenderId: "210169122541", appId: "1:210169122541:web:626ec3d023519ac1ce46e4", measurementId: "G-YV2DVYHL9Z" };
    const app = initializeApp(firebaseConfig); const db = getDatabase(app);

    // 1. HERO CONTENT (DESKTOP & MOBILE INTEGRATION)
    const homeRef = ref(db, 'periods/2025/home');
    onValue(homeRef, (snapshot) => {
        const data = snapshot.val();
        if (data) {
            if(data.heroTitle) document.getElementById('hero-title').innerText = data.heroTitle;
            if(data.heroSubtitle) document.getElementById('hero-subtitle').innerText = data.heroSubtitle;
            
            // Desktop Image
            if(data.heroImage) document.getElementById('hero-img').src = data.heroImage;
            
            // Mobile Background Image (Integrated)
            if(data.heroImageMobile) {
                document.getElementById('hero-bg-mobile').style.backgroundImage = `url('${data.heroImageMobile}')`;
            }
        }
    });

    // 2. KEGIATAN & ARTIKEL (PREMIUM CARD)
    const eventsQuery = query(ref(db, 'events'), limitToLast(3));
    onValue(eventsQuery, (snapshot) => {
        const data = snapshot.val();
        const container = document.getElementById('featured-activities-container');
        if (data) {
            container.innerHTML = "";
            Object.keys(data).reverse().forEach(key => {
                const event = data[key];
                const imgUrl = (event.gallery && event.gallery[0]) ? event.gallery[0] : (event.image || 'https://via.placeholder.com/400');
                container.innerHTML += `
                <div class="card" onclick="window.location.href='activities.html'">
                  <div class="card__shine"></div><div class="card__glow"></div>
                  <div class="card__content">
                    <div class="card__badge">${event.category}</div>
                    <div class="card__image" style="background-image: url('${imgUrl}');"></div>
                    <div class="card__text"><p class="card__title">${event.title}</p><p class="card__description">${event.location}</p></div>
                    <div class="card__footer">
                      <div class="card__price"><span class="material-symbols-outlined text-[14px]">calendar_today</span> ${event.date}</div>
                      <div class="card__button"><svg height="16" width="16" viewBox="0 0 24 24"><path stroke-width="2" stroke="currentColor" d="M4 12H20M12 4V20" fill="currentColor"></path></svg></div>
                    </div>
                  </div>
                </div>`;
            });
        }
    });

    const articlesQuery = query(ref(db, 'articles'), limitToLast(3));
    onValue(articlesQuery, (snapshot) => {
        const data = snapshot.val();
        const container = document.getElementById('latest-articles-container');
        if (data) {
            container.innerHTML = "";
            Object.keys(data).reverse().forEach(key => {
                const article = data[key];
                container.innerHTML += `
                <div class="card" onclick="window.location.href='articles-detail.html?id=${key}'">
                  <div class="card__shine"></div><div class="card__glow"></div>
                  <div class="card__content">
                    <div class="card__badge">${article.category}</div>
                    <div class="card__image" style="background-image: url('${article.image || 'https://via.placeholder.com/400'}');"></div>
                    <div class="card__text"><p class="card__title">${article.title}</p><p class="card__description line-clamp-2">${article.content}</p></div>
                    <div class="card__footer">
                      <div class="card__price"><span class="material-symbols-outlined text-[14px]">schedule</span> ${article.date}</div>
                      <div class="card__button"><svg height="16" width="16" viewBox="0 0 24 24"><path stroke-width="2" stroke="currentColor" d="M4 12H20M12 4V20" fill="currentColor"></path></svg></div>
                    </div>
                  </div>
                </div>`;
            });
        }
    });
</script>

</body>
</html>